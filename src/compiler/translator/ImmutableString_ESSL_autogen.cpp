// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2020 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {1106, 604,  1081, 1073, 268,  909, 330,  1205, 93,   649,
                              1076, 1741, 178,  280,  718,  568, 1291, 1500, 200,  912,
                              656,  66,   1686, 281,  1191, 743, 708,  1486, 1716, 611,
                              693,  1452, 670,  1815, 1027, 639, 1170};
constexpr int mangledkT2[] = {234, 1220, 1447, 1660, 623, 489, 1356, 724,  1027, 1265,
                              552, 1361, 1696, 1334, 590, 859, 1703, 1035, 1647, 1001,
                              338, 662,  1306, 781,  337, 522, 1058, 822,  1177, 971,
                              614, 1251, 633,  159,  252, 503, 619};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    1350, 0,    980,  715,  0,    0,    600,
    0,    0,    0,    694,  0,    0,    1151, 0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    376,  1549, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    443,  0,    349,  161,
    0,    0,    0,    0,    0,    0,    31,   0,    0,    0,    0,    1701, 1243, 0,    212,  0,
    0,    0,    0,    0,    853,  0,    649,  799,  0,    0,    0,    1218, 0,    0,    0,    0,
    0,    579,  0,    0,    0,    1043, 0,    0,    645,  0,    0,    323,  0,    1451, 0,    1428,
    886,  0,    0,    0,    1801, 475,  0,    0,    0,    533,  0,    0,    0,    0,    92,   1218,
    299,  0,    0,    0,    0,    0,    241,  120,  129,  163,  0,    0,    0,    0,    974,  0,
    0,    0,    0,    1559, 793,  1295, 0,    52,   0,    0,    0,    0,    115,  0,    0,    1804,
    207,  43,   0,    874,  1672, 173,  145,  1066, 1320, 88,   0,    1548, 0,    445,  0,    0,
    213,  0,    1652, 1808, 0,    837,  0,    0,    144,  367,  1,    0,    0,    0,    1213, 765,
    0,    0,    256,  0,    0,    1070, 0,    592,  0,    0,    0,    979,  1009, 0,    315,  0,
    138,  1056, 330,  987,  0,    0,    0,    1535, 0,    161,  0,    0,    0,    0,    736,  0,
    1256, 0,    1710, 0,    1805, 0,    922,  1811, 1183, 0,    0,    524,  0,    0,    1357, 0,
    1011, 0,    1077, 0,    0,    0,    0,    0,    883,  850,  1506, 0,    47,   0,    0,    0,
    0,    0,    1436, 1000, 0,    959,  0,    367,  895,  0,    0,    1508, 998,  0,    0,    0,
    0,    1571, 1413, 0,    1010, 0,    835,  0,    0,    0,    0,    1418, 0,    1693, 460,  0,
    0,    1333, 1786, 0,    0,    0,    0,    0,    789,  328,  0,    0,    0,    1259, 1299, 571,
    0,    0,    1682, 923,  809,  0,    784,  1249, 0,    982,  0,    118,  972,  330,  0,    234,
    0,    0,    820,  461,  1266, 0,    0,    1128, 453,  415,  1657, 658,  1560, 0,    130,  698,
    1522, 911,  553,  0,    782,  0,    0,    0,    222,  0,    0,    0,    0,    0,    0,    0,
    0,    0,    0,    1019, 526,  676,  0,    335,  1513, 0,    457,  722,  0,    1645, 0,    1243,
    0,    81,   0,    0,    1811, 0,    0,    0,    0,    0,    0,    0,    0,    0,    50,   0,
    0,    0,    160,  654,  0,    142,  0,    364,  0,    92,   1089, 827,  1408, 1477, 0,    0,
    527,  0,    0,    0,    164,  0,    0,    1342, 0,    837,  1549, 0,    0,    0,    609,  0,
    0,    232,  0,    0,    876,  0,    1427, 233,  547,  417,  276,  0,    0,    0,    0,    0,
    777,  1483, 0,    0,    0,    0,    0,    1307, 472,  1394, 1494, 660,  662,  940,  0,    0,
    496,  0,    0,    887,  1084, 0,    0,    1033, 80,   749,  0,    1109, 744,  631,  1786, 0,
    1765, 0,    0,    0,    788,  0,    0,    559,  0,    752,  473,  0,    886,  1111, 0,    0,
    1521, 0,    0,    825,  0,    0,    0,    0,    324,  0,    243,  1623, 0,    565,  0,    0,
    0,    80,   0,    0,    674,  0,    0,    1451, 0,    582,  0,    0,    520,  814,  0,    530,
    0,    878,  572,  0,    0,    304,  0,    1013, 0,    1426, 326,  1371, 818,  25,   0,    8,
    0,    0,    494,  1656, 436,  0,    0,    1270, 0,    207,  0,    669,  0,    0,    8,    1759,
    994,  1510, 0,    1038, 373,  0,    1105, 0,    1229, 649,  520,  0,    767,  1203, 1407, 206,
    211,  268,  0,    0,    96,   0,    1410, 0,    0,    0,    0,    1597, 0,    0,    0,    476,
    0,    0,    0,    0,    0,    922,  218,  36,   0,    887,  0,    0,    453,  236,  0,    1508,
    0,    0,    0,    0,    175,  0,    467,  540,  685,  620,  1472, 0,    1336, 0,    1796, 0,
    0,    1151, 0,    567,  776,  0,    0,    0,    1607, 1055, 203,  0,    1427, 901,  0,    174,
    710,  147,  866,  1508, 0,    1342, 86,   1040, 0,    1583, 489,  530,  0,    0,    689,  105,
    0,    825,  679,  1736, 1387, 1721, 0,    0,    0,    367,  875,  1446, 12,   0,    0,    1082,
    0,    0,    0,    408,  0,    0,    0,    0,    0,    0,    558,  0,    0,    1160, 216,  892,
    104,  0,    0,    0,    105,  765,  18,   0,    0,    0,    0,    525,  0,    0,    818,  0,
    0,    932,  0,    269,  0,    251,  542,  0,    0,    879,  0,    0,    0,    0,    0,    0,
    0,    931,  0,    0,    0,    0,    759,  228,  0,    437,  1502, 1412, 0,    1283, 893,  0,
    0,    0,    1290, 1208, 0,    0,    769,  0,    917,  336,  475,  807,  12,   0,    130,  0,
    0,    1703, 0,    0,    139,  654,  0,    0,    0,    251,  298,  0,    1772, 0,    692,  0,
    661,  0,    0,    376,  1388, 238,  1628, 83,   0,    0,    619,  791,  651,  0,    783,  644,
    831,  0,    547,  1235, 835,  929,  0,    1762, 1803, 0,    1118, 1365, 658,  26,   562,  0,
    313,  881,  977,  0,    0,    295,  845,  887,  958,  0,    675,  813,  0,    1546, 1186, 0,
    0,    1816, 0,    1010, 633,  563,  697,  29,   1002, 1806, 1221, 0,    1014, 621,  0,    427,
    0,    0,    463,  1271, 0,    252,  556,  212,  255,  589,  551,  442,  1112, 0,    0,    0,
    25,   591,  240,  0,    0,    881,  1145, 0,    0,    190,  0,    0,    0,    0,    0,    1161,
    1728, 1328, 344,  0,    97,   1386, 23,   144,  0,    902,  575,  407,  1488, 0,    723,  0,
    0,    0,    810,  0,    0,    0,    1515, 974,  0,    0,    0,    1294, 983,  370,  1544, 1328,
    114,  898,  1576, 0,    1393, 1542, 1406, 341,  0,    0,    0,    157,  0,    172,  175,  685,
    1448, 0,    0,    1009, 916,  302,  334,  1378, 0,    274,  0,    0,    728,  783,  59,   65,
    0,    476,  32,   0,    0,    0,    0,    1288, 1249, 0,    0,    1474, 792,  0,    1696, 0,
    360,  0,    0,    0,    1730, 0,    0,    0,    1237, 181,  1513, 1783, 43,   0,    0,    1768,
    0,    167,  6,    1352, 0,    908,  229,  967,  0,    0,    0,    0,    0,    0,    297,  0,
    0,    1167, 1097, 832,  0,    0,    1359, 1553, 653,  436,  0,    0,    1271, 1002, 0,    1114,
    0,    0,    0,    0,    0,    1771, 0,    0,    269,  700,  0,    0,    0,    576,  1134, 726,
    832,  0,    925,  421,  438,  308,  344,  0,    539,  0,    0,    622,  522,  1146, 0,    199,
    1434, 0,    558,  481,  938,  1662, 706,  365,  0,    0,    0,    1774, 545,  0,    0,    0,
    611,  0,    0,    0,    0,    0,    518,  0,    1183, 836,  0,    1580, 101,  1494, 1319, 865,
    127,  767,  612,  618,  1311, 1034, 0,    7,    1347, 467,  712,  433,  185,  0,    1432, 0,
    1627, 861,  0,    1008, 0,    1608, 947,  462,  0,    848,  0,    0,    1765, 0,    854,  533,
    0,    721,  578,  0,    175,  1276, 839,  1753, 340,  0,    151,  269,  1253, 1630, 67,   0,
    0,    1773, 88,   0,    1271, 1116, 62,   0,    0,    794,  1142, 898,  0,    0,    237,  194,
    0,    843,  362,  0,    0,    594,  1623, 0,    118,  1617, 438,  221,  0,    0,    371,  608,
    832,  1810, 466,  867,  1722, 0,    0,    0,    1441, 804,  0,    705,  357,  455,  348,  512,
    1730, 0,    0,    534,  0,    691,  0,    1493, 0,    1150, 209,  1435, 1007, 805,  851,  12,
    751,  0,    0,    0,    826,  367,  1008, 0,    739,  0,    632,  956,  339,  523,  98,   1716,
    1555, 1324, 288,  685,  0,    1024, 179,  0,    0,    0,    0,    944,  0,    380,  0,    1503,
    910,  6,    0,    0,    0,    1407, 1535, 0,    813,  0,    635,  0,    580,  0,    560,  0,
    557,  1737, 1469, 0,    428,  1220, 499,  0,    895,  602,  1562, 315,  223,  0,    0,    475,
    1072, 1723, 670,  25,   1692, 1701, 1272, 0,    0,    342,  917,  0,    216,  834,  1394, 0,
    1742, 1639, 0,    534,  0,    1681, 0,    874,  0,    228,  301,  0,    1407, 872,  0,    987,
    0,    680,  1679, 0,    1290, 613,  461,  147,  589,  146,  598,  1556, 0,    0,    1556, 313,
    267,  0,    62,   1142, 0,    0,    159,  55,   1115, 0,    0,    1522, 1195, 1084, 0,    333,
    593,  91,   0,    1066, 270,  627,  203,  1142, 1174, 271,  127,  164,  1402, 0,    0,    37,
    1218, 361,  338,  1218, 712,  0,    349,  1015, 1515, 1543, 1531, 1563, 763,  281,  0,    235,
    361,  277,  0,    1007, 0,    0,    568,  950,  910,  981,  1764, 0,    327,  0,    78,   0,
    0,    982,  36,   0,    0,    837,  1078, 901,  1551, 1485, 113,  0,    1591, 0,    0,    702,
    0,    12,   310,  1507, 7,    0,    1332, 272,  0,    1358, 1632, 0,    1712, 658,  0,    1493,
    305,  0,    317,  1173, 716,  1654, 0,    402,  250,  0,    0,    796,  0,    868,  1143, 1782,
    770,  0,    216,  1237, 640,  0,    321,  0,    609,  0,    0,    0,    0,    1256, 0,    0,
    0,    0,    0,    767,  857,  1760, 1764, 470,  961,  0,    430,  1409, 652,  1702, 925,  501,
    0,    0,    562,  0,    1322, 0,    0,    1413, 8,    0,    0,    1653, 536,  257,  16,   0,
    0,    1061, 1787, 0,    392,  1345, 0,    0,    1527, 693,  844,  708,  0,    0,    0,    0,
    0,    237,  290,  0,    0,    0,    0,    165,  281,  1419, 1460, 627,  1776, 1150, 38,   0,
    0,    0,    568,  810,  131,  38,   399,  0,    0,    0,    0,    869,  322,  145,  0,    566,
    83,   0,    0,    1303, 1206, 1159, 1395, 570,  810,  0,    0,    195,  389,  244,  0,    0,
    447,  0,    1741, 1136, 76,   0,    586,  1049, 0,    781,  0,    742,  1746, 148,  0,    0,
    669,  0,    0,    0,    936,  31,   0,    1288, 1442, 45,   598,  828,  1186, 215,  1230, 0,
    688,  1273, 54,   0,    0,    441,  1652, 892,  0,    1648, 434,  1032, 1010, 16,   1593, 0,
    0,    0,    1599, 784,  1714, 0,    0,    0,    123,  1431, 0,    508,  0,    960,  0,    0,
    1561, 623,  0,    0,    670,  1292, 80,   672,  783,  11,   318,  547,  678,  0,    863,  1248,
    254,  786,  0,    322,  326,  459,  900,  0,    95,   193,  1720, 381,  1587, 0,    0,    0,
    266,  179,  0,    0,    258,  642,  411,  1067, 0,    0,    961,  0,    0,    1281, 1355, 426,
    583,  0,    0,    112,  0,    549,  1388, 303,  390,  85,   1484, 1771, 0,    133,  0,    433,
    1352, 376,  1260, 677,  0,    1630, 0,    555,  1603, 0,    661,  1528, 0,    1195, 288,  307,
    150,  340,  1428, 410,  184,  0,    0,    820,  1528, 93,   280,  0,    78,   978,  0,    1631,
    0,    1036, 681,  0,    1667, 109,  0,    883,  0,    101,  862,  0,    771,  110,  1290, 928,
    75,   0,    696,  1232, 875,  0,    1414, 324,  237,  0,    379,  1151, 1724, 0,    76,   0,
    70,   275,  39,   1058, 120,  746,  0,    1003, 83,   422,  875,  0,    616,  32,   0,    0,
    0,    0,    753,  655,  0,    811,  0,    0,    185,  107,  0,    897,  0,    850,  976,  809,
    0,    0,    0,    0,    1687, 511,  0,    736,  560,  1470, 1027, 1722, 992,  498,  0,    1370,
    659,  0,    841,  648,  537,  561,  823,  666,  485,  926,  0,    754,  580,  728,  0,    0,
    899,  0,    835,  0,    0,    771,  0,    6,    0,    664,  943,  0,    882,  58,   0,    1364,
    752,  0,    0,    706,  0,    1014, 0,    0,    0,    697,  0,    0,    715,  358,  999,  0,
    1106, 297,  0,    0,    0,    890,  1657, 977,  876,  407,  1249, 319,  877,  261,  0,    0,
    0,    1341, 1249, 348,  1154, 0,    263,  55,   0,    0,    681,  0,    1668, 1385, 831,  1210,
    356,  455,  1643, 674,  1378, 148,  0,    0,    0};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1817;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1817;
}

constexpr int unmangledkT1[] = {15,  233, 194, 259, 187, 65, 109, 198, 165, 206, 74, 164, 172,
                                198, 48,  141, 242, 152, 35, 96,  14,  179, 6,   42, 13,  35};
constexpr int unmangledkT2[] = {122, 165, 120, 12,  62,  286, 77,  258, 188, 149, 38,  244, 167,
                                106, 184, 260, 202, 267, 80,  149, 176, 79,  68,  194, 277, 268};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
    269, 0,   61,  0,   0,   0,   0,   0,   0,   0,   14,  7,   0,   0,   0,   0,   0,   0,
    0,   0,   49,  0,   0,   20,  0,   104, 197, 0,   0,   125, 0,   0,   33,  95,  144, 0,
    127, 7,   0,   194, 43,  114, 0,   0,   111, 216, 0,   101, 0,   94,  40,  156, 0,   129,
    15,  0,   0,   0,   0,   134, 45,  0,   0,   17,  261, 53,  85,  77,  0,   0,   265, 37,
    18,  0,   0,   0,   204, 171, 13,  242, 0,   0,   249, 0,   53,  67,  0,   215, 237, 105,
    0,   255, 0,   0,   45,  0,   236, 0,   127, 0,   222, 133, 281, 63,  227, 19,  0,   0,
    0,   0,   0,   129, 15,  75,  248, 0,   0,   0,   0,   0,   0,   95,  0,   0,   44,  0,
    126, 142, 18,  0,   9,   137, 21,  133, 118, 284, 105, 0,   89,  261, 10,  4,   0,   6,
    65,  236, 81,  32,  75,  0,   0,   121, 0,   109, 145, 0,   0,   0,   0,   148, 0,   34,
    0,   0,   245, 58,  123, 31,  13,  0,   0,   94,  124, 126, 0,   180, 0,   51,  280, 241,
    0,   106, 0,   71,  125, 132, 0,   206, 192, 59,  24,  0,   0,   232, 0,   202, 8,   36,
    0,   119, 143, 255, 0,   0,   212, 57,  0,   0,   0,   109, 243, 47,  0,   145, 0,   90,
    0,   49,  0,   70,  228, 262, 26,  97,  27,  0,   0,   122, 206, 115, 0,   173, 0,   111,
    0,   88,  38,  214, 139, 13,  0,   61,  0,   62,  96,  0,   43,  46,  243, 0,   174, 261,
    22,  0,   93,  0,   43,  74,  117, 80,  193, 43,  26,  0,   266, 0,   19,  156, 0,   39};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 288;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 288;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
